<html><head><title>Workflow</title></head><body><table width="100%"><tr valign="top"><td width="150px"><table><tr><th align="left">Navigation</th></tr><tr><td><small><a href="../../community/index.html">Community</a></small></td></tr><tr><td><small><a href="../../configuring/index.html">Configuring</a></small></td></tr><tr><td><small><a href="../../creating/index.html">Creating</a></small></td></tr><tr><td><small><a href="../../faq---general/index.html">FAQ - General</a></small></td></tr><tr><td><small><a href="../../info-for-sauerbraten-users/index.html">Info for Sauerbraten Users</a></small></td></tr><tr><td><small><a href="../../introduction/index.html">Introduction</a></small></td></tr><tr><td><small><a href="../../known-issues/index.html">Known Issues</a></small></td></tr><tr><td><small><a href="../../home/index.html">Main Page</a></small></td></tr><tr><td><small><a href="../../notes/index.html">Notes</a></small></td></tr><tr><td><small><a href="../../playing/index.html">Playing</a></small></td></tr><tr><td><small><a href="../../troubleshooting/index.html">Troubleshooting</a></small></td></tr></table></td><td>&#160;</td><td><div class="hentry webpage" id="http://sites.google.com/feeds/content/syntensity.com/wiki/4459124084554808373"><div><a href="../index.html">Creating</a> &gt; </div><h3><span class="entry-title">Workflow</span></h3><div><div class="entry-content"><div xmlns='http://www.w3.org/1999/xhtml'><table class='sites-layout-name-one-column sites-layout-hbox' cellspacing='0'><tbody><tr><td class='sites-layout-tile sites-tile-name-content-1'><div dir='ltr'>Beforehand, you need to:<br/><ul><li><a href='../../creating/creat/index.html'>Create a new map to work on</a>. You only need to do this once for each map.</li><li>Then, <a href='../../playing/requisitioning/index.html'>get a server to run the map</a> or <a href='../../creating/running-a-local-server/index.html'>run a local server</a>.</li><ul><li>Clients that connect to a server always run the same map as the server. In other words, the server determines what map is run.<br/></li></ul><li>Run the client and connect to the server (using the appropriate method, depending on if you are using a remote or a local server)<br/></li></ul>You can now start the normal workflow, as follows:<br/><ul><li><b>Make changes</b></li><ul><li>Edit the map geometry (mapping) and add/modify entities<br/></li><li>Edit the map script<br/></li></ul><li><b>Save changes locally</b></li><ul><li>This is good for backup purposes, and faster than a full upload to the remote servers, but it means that you and the server (and other connected clients, if any) are not running the same map! So if you are not careful, strange things may occur. When in doubt, do a full upload, as written below.</li><li>How local changes work: The key principle is that the MAPNAME.tar.gz file is used as an indicator of the map version, <b>not</b> the files in the map directory, MAPNAME/ (map.js, map.ogz, entities.js). So you can change the files in the map directory, and the client (or server, for that matter) won't think they are of a different version that the current one (if it did think there was a version mismatch, it would download the current version from the central servers).</li><li>How to save local changes:</li><ul><li>/savemap saves the OGZ</li><li>/exportentities saves the entities (this shows a GUI for the filename; you can also use /do_exportentities NAME)</li><li>You can edit the map.js (and other script files) in a text editor of your choosing.</li></ul><li>Where the map directory is: It is in your home directory, which is <span style='font-family:courier new,monospace'>intensityengine_client</span> or <span style='font-family:courier new,monospace'>.intensityengine_client</span>, in your operating system user's home directory - under <span style='font-family:courier new,monospace'>Documents and Settings</span> on XP, <span style='font-family:courier new,monospace'>Users</span> on Vista, <span style='font-family:courier new,monospace'>~</span> on Linux, etc. Inside the home directory, map directories are in <span style='font-family:courier new,monospace'>packages/base</span> (<span style='font-family:courier new,monospace'>packages</span> is where all assets are stored, and <span style='font-family:courier new,monospace'>base</span> is where maps are stored).<br/></li></ul><li><b>Do a full upload</b></li><ul><li>When you select 'upload map' from the menu, the client will</li><ul><li>Save the map geometry into map.ogz</li><li>Save the map entities into entities.json<br/></li><li>Package the files in the map directory into a .tar.gz archive</li><li>Upload that to the remote Syntensity servers. This new version will then be downloaded by the server you are connected to, and then all clients will run that new version as well (including yourself).</li></ul><li>There is a 'repeat last upload' option in the menu. This lets you upload the last uploaded map <b>without</b> needing to enter a server instance running that map. This is useful if, for example, the map script crashes the server when it tries to load the map, due to a bug - in such a case, you can't enter a server instance and upload the map normally. If this happens, edit the map script to fix it, and then do 'repeat last upload'.<br/></li></ul></ul><br/></div></td></tr></tbody></table></div></div><br /><small>Updated on <abbr class="updated" title="2009-10-22T20:22:11.007Z">Oct 22, 2009</abbr> by <span class="author"><span class="vcard"><a class="fn" href="mailto:alonzakai@syntensity.com">Alon Zakai</a></span></span> (Version <span class="sites:revision">7</span>)</small><br /><br /></div></div></td></tr></table></body></html>